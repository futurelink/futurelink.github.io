---
title: Запуск Chibios на STM32F0xx
layout: post
---
Chibios - это такая операционная система реального времени (RTOS/ОСРВ) вытесняющего типа. 
Данная операционка позиционируется, как очень миниатюрная и гибкая, тем не менее обладающая всеми возможностями 
типичных ОСРВ.

Одним из преимуществ, для меня лично, является то, что ОС действительно очень миниатюрная. Особенно это заметно
после FreeRTOS, что позволяет сделать прошивку для low-density устройствв, такого как CORTEX-M0, c 64Кб флеша.
Потерять 5-7Кб, но при этом получить полноценную ОСРВ в HAL и не париться с работой с переферией на низком уровне -
это стоит того.

Структура каталогов ОС представляет собой следующее:

* ports - порты под разные компиляторы и арзитектуры
* kernel - ядро системы
* hal - HAL, абстактный уровень для работы с переферией
* boards - платы или чипы

Меня интересовало все, что относится к STM32F0xx. Забираем из дистрибутива все, что нужно, складываем себе в проект.
Для удобства я сделал <a href="https://github.com/futurelink/stm32/tree/master/stm32f0xx-chibios">шаблон проекта</a> 
с Chibios для архитектуры STM32F0xx.

Из особенностей, если кто-то решит повторить то же самое: из каталога ports/ файлы crt0.c и vectors.c,
соответствующие архитектуре обязательно компилировать вместе с программой (с тем модулем, где точка входа). Все остальные
компоненты системы можно компилировать и собирать в архив, чтобы потом при компоновке подключить его как либу.

Собственно из минусов данной ОСРВ можно отметить только слабую документацию, что компенсируется огромным количеством 
демо-примеров. Также прмечательно, что проект <a href="http://rusefi.com/" target="_blank">RUSEFI</a>, целью которого 
является создание гибкого блока управления ДВС (EFI) успешно использует для ядра устройства как раз Chibios/RT на STM32F407.
